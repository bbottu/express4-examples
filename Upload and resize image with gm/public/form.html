<html>
<head>
    <title>Resize image example</title>
    <style>
      .entry label{ display:inline-block; width:80px;}
      .entry input{ width:300px;}
    </style>
</head>
<body>
    <h1>Resize image example</h1>
    <form id="exampleForm" action="form" enctype="multipart/form-data" method="post">
        <div class="entry">
            <label for="title">Title: </label>
            <input type="text" id="title" name="title"></input>
        </div>
        <div class="entry">
            <label for="datafile">Image: </label>
            <input type="file" id="datafile" name="datafile" size="10">
        </div>
        <input type="submit" id="submitButton" value="Submit"></input>
    </form>
    <script type="text/javascript">
        function handleFileSelect(evt) {
            if (typeof FileReader !== "undefined") {
                var file = document.getElementById('datafile').files[0];

                //Check file type
                var allowedFileTypes = ["image/png", "image/jpeg"];
                if (allowedFileTypes.indexOf(file.type) > -1) {
                    //Check file size
                    var size = file.size;
                    if(size < 52428800){
                        document.getElementById("submitButton").disabled = false; 
                    } else {
                        alert("File is too big. Max file size: 50MB");
                        document.getElementById("submitButton").disabled = true; 
                    }
                } else {
                    alert("File is not an image. Please upload an image");
                    document.getElementById("submitButton").disabled = true; 
                }

                
            }
        }
        document.getElementById("submitButton").disabled = true; 
        document.getElementById('datafile').addEventListener('change', handleFileSelect, false);
    </script>
</body>
</html>
